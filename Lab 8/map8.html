<!DOCTYPE html>
<html>
<head>
        <title>Lab 8</title>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" crossorigin="">

        <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" crossorigin=""></script>
        <style type="text/css">
        html, body { margin: 0; padding: 0; height: 100%;}
        #map { min-height: 100%; } .legend {
              padding: 6px 8px;
              line-height: 18px;
              background: rgba(255,255,255,0.9);
              box-shadow: 0 0 15px rgba(0,0,0,0.2);
              border-radius: 5px;
          }
        </style>

        <script src="https://electionmaps.github.io/provinces.js"></script>

        <script src="https://electionmaps.github.io/coviddata.js"></script>

    </head>

    <body>
        <div id="map" class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0" style="position: relative; outline: none;"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(-659px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 20; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/11/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(592px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/11/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(592px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/10/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(336px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/12/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(848px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/10/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(336px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/12/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(848px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/11/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(592px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/11/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(592px, 729px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/10/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(336px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/12/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(848px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/10/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(336px, 729px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/12/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(848px, 729px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/9/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(80px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/13/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1104px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/9/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(80px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/13/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1104px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/9/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(80px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/13/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1104px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/9/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(80px, 729px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/13/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1104px, 729px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/8/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-176px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/14/6@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1360px, 217px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/8/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-176px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/14/7@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1360px, 473px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-b.a.ssl.fastly.net/toner/4/8/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-176px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-d.a.ssl.fastly.net/toner/4/14/5@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1360px, -39px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-a.a.ssl.fastly.net/toner/4/8/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-176px, 729px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://stamen-tiles-c.a.ssl.fastly.net/toner/4/14/8@2x.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1360px, 729px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-overlay-pane"><svg pointer-events="none" class="leaflet-zoom-animated" width="180" height="1082" viewBox="644 -90 180 1082" style="transform: translate3d(644px, -90px, 0px);"><g><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#9e9ac8" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#cbc9e2" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#cbc9e2" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#f2f0f7" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#9e9ac8" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#cbc9e2" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#cbc9e2" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#9e9ac8" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#9e9ac8" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#9e9ac8" fill-opacity="0.9" fill-rule="evenodd" d="M826 284L820 285L818 283L813 286L808 286L805 288L803 292L798 294L793 293L780 299L771 298L768 296L768 294L765 295L762 293L761 296L753 300L747 298L742 299L739 297L733 306L732 310L723 312L715 309L712 300L713 296L702 296L697 293L696 290L691 292L689 287L690 284L687 280L680 275L674 275L672 273L680 270L677 266L678 264L676 255L672 251L669 251L667 253L665 252L662 249L665 247L661 242L663 239L665 239L667 231L677 226L676 225L681 225L685 222L686 226L693 226L697 222L700 215L704 216L711 209L714 209L715 211L732 203L737 198L737 189L741 188L739 185L744 183L740 173L738 163L739 160L733 156L736 153L739 154L740 152L745 152L755 148L758 151L764 151L760 144L769 118L779 122L797 121L799 117L797 105L798 102L800 98L809 95L812 90L812 85L823 85L824 88L822 90L826 93L826 96z"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#f2f0f7" fill-opacity="0.9" fill-rule="evenodd" d="M826 399L816 399L810 396L807 398L805 397L805 395L803 396L804 398L802 398L799 392L798 394L793 393L792 388L789 389L782 385L783 384L781 380L775 382L771 377L765 374L763 371L759 370L758 366L757 367L750 365L749 371L747 371L746 367L736 363L731 358L730 359L728 357L724 357L722 353L720 354L721 349L719 347L720 345L717 342L716 337L720 335L723 340L726 338L725 328L721 325L719 316L722 315L725 311L732 310L739 297L752 300L757 299L758 297L761 296L762 293L765 295L768 294L770 298L782 298L793 293L798 294L803 292L806 287L811 285L813 286L818 283L820 285L826 284z"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#756bb1" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="gray" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#54278f" fill-opacity="0.9" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M789,217a2,2 0 1,0 4,0 a2,2 0 1,0 -4,0 "></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M0 0"></path><path class="leaflet-interactive" stroke="#000000" stroke-opacity="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="#808080" fill-opacity="0.5" fill-rule="evenodd" d="M816,349a1,1 0 1,0 2,0 a1,1 0 1,0 -2,0 "></path></g></svg></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(2958px, 1770px, 0px) scale(8);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in" role="button" aria-label="Zoom in">+</a><a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out">−</a></div></div><div class="leaflet-top leaflet-right"><div class="leaflet-control-layers leaflet-control-layers-expanded leaflet-control" aria-haspopup="true"><a class="leaflet-control-layers-toggle" href="#" title="Layers"></a><form class="leaflet-control-layers-list"><div class="leaflet-control-layers-base"><label><div><input type="radio" class="leaflet-control-layers-selector" name="leaflet-base-layers" checked="checked"><span> Light Canvas</span></div></label><label><div><input type="radio" class="leaflet-control-layers-selector" name="leaflet-base-layers"><span> Satellite Imagery</span></div></label></div><div class="leaflet-control-layers-separator"></div><div class="leaflet-control-layers-overlays"><label><div><input type="checkbox" class="leaflet-control-layers-selector" checked=""><span> China Provinces</span></div></label></div></form></div></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> — Map data © <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors</div></div></div></div>
        <script type="text/javascript">

        var map = L.map('map', {
            center:[34.666, 104.9569],
            zoom: 5
        });

//deleted the extra tile layer here because it was adding again to the map
		
        function getColor(value) {
            return value > 50000000 ? '#54278f':
                       value > 25000000  ? '#756bb1':
                       value > 10000000  ? '#9e9ac8':
                       value > 5000000  ? '#cbc9e2':
                                          '#f2f0f7';
            }
            function style(feature){
                return {
                    fillColor: getColor(feature.properties.POP10),
                    weight: 2,
                    opacity: 1,
                    color: 'gray',
                    fillOpacity: 0.9
                };
            }
			
        var imagery = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}', {
attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
subdomains: 'abcd',
minZoom: 0,
maxZoom: 18,
ext: 'png'
});

var canvas = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}', {
attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        subdomains: 'abcd',
            minZoom: 0,
            maxZoom: 20,
            ext: 'png'
        }).addTo(map);



        var basemaps = {
            "Light Canvas": canvas,
            "Satellite Imagery": imagery
            
        };

        var minValue = 100;
        var minRadius = 5;
        function calcRadius(val) {
            return 0.9* Math.pow(val/minValue, .7) *minRadius;
        }

        var provinces = new L.geoJson(provinces, {style:style}).addTo(map);
		
 var onEachFeature = function(feature, layer) {
        if (feature.properties) {
          var prop = feature.properties;

          var popup = '<h3>'+prop['Location']+'</h3>'+'<br>Cases Day 1: '+prop['1']+'<br>Cases Day 16: '+prop['covid'];
		feature.layer = layer;
          layer.bindPopup(popup, {maxWidth: "auto"});
        }
      };
	  
        var covidData = new L.geoJson(covidData, {
			onEachFeature: onEachFeature,
            pointToLayer: function(feature, ll){
                return L.circleMarker(ll, {
                    color: '#000000',
                    opacity: 1,
                    weight: 2,
                    fillColor: '#808080',
                    fillOpacity: .5,
                    //radius: 10
                    radius: calcRadius(feature.properties.covid)
                });
            }
        }).addTo(map);
		

		
        var overlaymaps = {
            "China Provinces": provinces
        };
        L.control.layers(basemaps, overlaymaps, {collapsed:false}).addTo(map);
		
        var legend = L.control({position: 'bottomright'});

        lengend.onAdd = function (map) {

            var div = L.DomUtil.create ('div', 'legend'),
            grades = [0, 1000000, 2000000, 5000000, 10000000];

            div.innerHTML='<b>Population 2019 <br><br></b>';

            for(var i = 0; i <grades.length; i++) {
                div.innerHTML +=
                '<i style="background:' + getColor(grades[i] + 1) + '></i>'+ grades[i] + (grades[i + 1] ? '&ndash;' + grades[i+1]+ '<br><br>' : '+');
            }
            return div;
        };

        legend.addTo(map);

        map.on('overlayremove', function(eventLayer){
            if (eventLayer.name =='provinces'){
                map.removeControl(legend);
            }
        });

        map.on('overlayadd', function(eventLayer){
            if (eventLayer.name == 'provinces'){
                legend.addTo(map);
            }
        });

         
        </script>
        
    

</body>
</html>
